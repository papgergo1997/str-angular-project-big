<div class="row">
  <div *ngIf="(product$ | async) as product" class="col-6 offset-3">
    <form #productForm="ngForm" (ngSubmit)="onUpdate(productForm, product)">
      <div class="form-group">
        <label for="">catID</label>
        <input name="catID" [(ngModel)]="product.catID" type="number" class="form-control" pattern="^[0-9]{1,5}$"
          required>
        <div [hidden]="productForm.controls.catID?.valid" class="error-message">
          catID can only contain number and must be 1-5 characters long!
        </div>
      </div>

      <div class="form-group">
        <label for="">name</label>
        <input name="name" [(ngModel)]="product.name" type="text" class="form-control" pattern=".{3,15}" required>
        <div [hidden]="productForm.controls.name?.valid" class="error-message">
          Name must start with an UPPERCASE character, and must be 3 characters long at least
        </div>
      </div>

      <div class="form-group">
        <label for="">type</label>
        <input name="type" [(ngModel)]="product.type" type="text" class="form-control" pattern=".{3,15}" required>
        <div [hidden]="productForm.controls.type?.valid" class="error-message">
          Type must be 3 characters long at least!
        </div>
      </div>

      <div class="form-group">
        <label for="">description</label>
        <input name="description" [(ngModel)]="product.description" type="text" class="form-control" pattern=".{3,200}" required>
        <div [hidden]="productForm.controls.description?.valid" class="error-message">
          Description must be 3-200 characters long!
        </div>
      </div>

      <div class="form-group">
        <label for="">price</label>
        <input name="price" [(ngModel)]="product.price" type="number" class="form-control" pattern="^[0-9]{1,20}$" required>
        <div [hidden]="productForm.controls.price?.valid" class="error-message">
          Price can only contain number and must be 1-20 characters long!
        </div>
      </div>

      <div class="form-group">
        <label for="">featured</label>
        <select name="featured" [(ngModel)]="product.featured" class="form-control" >
          <option>false</option>
          <option>true</option>
        </select>
      </div>

      <div class="form-group">
        <label for="">active</label>
        <select name="active" [(ngModel)]="product.active" class="form-control" >
          <option>false</option>
          <option>true</option>
        </select>
      </div>
      

      <button [disabled]="productForm.invalid || updating" type="submit" class="btn btn-primary btn-block btn-lg">
        <i *ngIf="!updating" class="fa fa-save">save</i>
        <i *ngIf="updating" class="fa fa-refresh">refresh</i>
      </button>

    </form>
  </div>
</div>